{"version":3,"file":"static/js/989.0ea885fb.chunk.js","mappings":"qNACA,EAAuB,oBAAvB,EAAqD,uBAArD,EAAsF,uBAAtF,EAAsH,sB,SC+GtH,EA3Gc,WACZ,IAAMA,GAAiBC,EAAAA,EAAAA,UACjBC,GAAmBD,EAAAA,EAAAA,UAEnBE,GAAQC,EAAAA,EAAAA,MAERC,GAAIC,EAAAA,EAAAA,YAAWC,EAAAA,GAErB,GAA8BC,EAAAA,EAAAA,WAAS,GAAK,eAArCC,EAAO,KAAEC,EAAU,KAE1B,GAA+BF,EAAAA,EAAAA,WAAS,GAAM,eAAvCG,EAAS,KAACC,EAAY,KAgE7B,OACE,qBAASC,UAAWC,EAAa,WAC/B,wBAAKL,EAAU,QAAU,aACzB,kBAAMM,SA5DY,SAACC,GACrBA,EAAEC,iBAEF,IAGIC,EAHEC,EAAenB,EAAeoB,QAAQC,MACtCC,EAAkBpB,EAAiBkB,QAAQC,MACjDT,GAAa,GAGTM,EADAT,EACI,oHAEA,wGAGNc,MACEL,EACA,CACEM,OAAQ,OACRC,KAAMC,KAAKC,UAAU,CACnBC,MAAOT,EACPU,SAAUP,EACVQ,mBAAmB,IAErBC,QAAS,CACP,eAAgB,sBAGpBC,MAAK,SAAAC,GAEL,OADArB,GAAa,GACTqB,EAAIC,IACNlC,EAAeoB,QAAQC,MAAM,GAC7BnB,EAAiBkB,QAAQC,MAAM,GACxBY,EAAIE,QAEJF,EAAIE,OAAOH,MAAK,SAACI,GACvB,IAAIC,EAAY,wBAIhB,MAHGD,GAAQA,EAAKE,OAASF,EAAKE,MAAMC,UACnCF,EAAYD,EAAKE,MAAMC,SAElB,IAAIC,MAAMH,EACjB,GAEJ,IAAGL,MAAK,SAAAI,GACL/B,EAAIoC,MAAML,EAAKM,SACfC,aAAaC,QAAQ,UAAUR,EAAKM,SACpCC,aAAaC,QAAQ,UAAUR,EAAKR,OACpCzB,EAAQ0C,QAAQ,KAChBC,YAAW,WACVH,aAAaI,WAAW,WACxBJ,aAAaI,WAAW,WACxBC,QAAQC,IAAI,sBACb,GAAE,IACL,IAAGC,OAAM,SAAAC,GACPC,MAAMD,EAAIZ,QACZ,GAEN,EAKoC,WAC5B,iBAAK1B,UAAWC,EAAgB,WAC9B,kBAAOuC,QAAQ,QAAO,SAAC,gBACvB,kBAAOC,KAAK,QAAQC,GAAG,QAAQC,UAAQ,EAACC,IAAKzD,QAE/C,iBAAKa,UAAWC,EAAgB,WAC9B,kBAAOuC,QAAQ,WAAU,SAAC,mBAC1B,kBACEC,KAAK,WACLC,GAAG,WACHC,UAAQ,EACRC,IAAKvD,QAGT,iBAAKW,UAAWC,EAAgB,WAC7BH,IAAa,4BAASF,EAAU,QAAU,mBAC3CE,IAAa,uBAAG,yBAChB,mBACE2C,KAAK,SACLzC,UAAWC,EACX4C,QApFoB,WAC5BhD,GAAW,SAACiD,GAAS,OAAMA,CAAS,GACtC,EAkFyC,SAE9BlD,EAAU,qBAAuB,wCAM9C,C","sources":["webpack://react-complete-guide/./src/Component/Login/Login.module.css?536a","Component/Login/Login.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"auth\":\"Login_auth__gbqIJ\",\"control\":\"Login_control__nR05J\",\"actions\":\"Login_actions__YPn-D\",\"toggle\":\"Login_toggle__CnIY1\"};","import { useHistory } from \"react-router-dom\";\nimport { useState, useRef,useContext } from \"react\";\nimport AuthContext from \"../Context/Auth-Context/Auth-Context\";\nimport classes from \"./Login.module.css\";\n\nconst LogIn = () => {\n  const emailItnputRef = useRef();\n  const passwordInputRef = useRef();\n\n  const history=useHistory();\n\n  const ctx=useContext(AuthContext)\n\n  const [isLogin, setIsLogin] = useState(true);\n\n  const [isLoading,setIsLoading]=useState(false);\n\n\n  const switchAuthModeHandler = () => {\n    setIsLogin((prevState) => !prevState);\n  };\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n\n    const enteredemail = emailItnputRef.current.value;\n    const enteredpassword = passwordInputRef.current.value;\n    setIsLoading(true);\n    let url;\n    if (isLogin) {\n        url='https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCtAB2ySpP41rMWn_UdbtdGgUXfepvS18I'\n    } else {\n        url='https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCtAB2ySpP41rMWn_UdbtdGgUXfepvS18I'\n    }\n\n      fetch(\n        url,\n        {\n          method: \"POST\",\n          body: JSON.stringify({\n            email: enteredemail,\n            password: enteredpassword,\n            returnSecureToken: true,\n          }),\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      ).then(res => {\n        setIsLoading(false);\n        if (res.ok) {\n          emailItnputRef.current.value=\"\";\n          passwordInputRef.current.value=\"\";\n          return res.json();\n        } else {\n          return res.json().then((data) => {\n           let errmessage =\"Authentication Failed\";\n           if(data && data.error && data.error.message){\n            errmessage= data.error.message; \n           }\n           throw new Error(errmessage);\n          });\n        }\n      }).then(data=>{\n         ctx.Login(data.idToken);\n         localStorage.setItem(\"tokenid\",data.idToken)\n         localStorage.setItem(\"emailid\",data.email)\n         history.replace(\"/\")\n         setTimeout(()=>{\n          localStorage.removeItem(\"tokenid\");\n          localStorage.removeItem(\"emailid\");\n          console.log(\"logedout with timer\")\n         },300000)\n      }).catch(err=>{\n        alert(err.message);\n      })\n     \n};\n\n  return (\n    <section className={classes.auth}>\n      <h1>{isLogin ? \"Login\" : \"Sign Up\"}</h1>\n      <form onSubmit={submitHandler}>\n        <div className={classes.control}>\n          <label htmlFor=\"email\">Your Email</label>\n          <input type=\"email\" id=\"email\" required ref={emailItnputRef} />\n        </div>\n        <div className={classes.control}>\n          <label htmlFor=\"password\">Your Password</label>\n          <input\n            type=\"password\"\n            id=\"password\"\n            required\n            ref={passwordInputRef}\n          />\n        </div>\n        <div className={classes.actions}>\n         {!isLoading && <button>{isLogin ? \"Login\" : \"Create Account\"}</button>}\n         {isLoading && <p>Sending Request....</p>} \n          <button\n            type=\"button\"\n            className={classes.toggle}\n            onClick={switchAuthModeHandler}\n          >\n            {isLogin ? \"Create new account\" : \"Login with existing account\"}\n          </button>\n        </div>\n      </form>\n    </section>\n  );\n};\n\nexport default LogIn;\n"],"names":["emailItnputRef","useRef","passwordInputRef","history","useHistory","ctx","useContext","AuthContext","useState","isLogin","setIsLogin","isLoading","setIsLoading","className","classes","onSubmit","e","preventDefault","url","enteredemail","current","value","enteredpassword","fetch","method","body","JSON","stringify","email","password","returnSecureToken","headers","then","res","ok","json","data","errmessage","error","message","Error","Login","idToken","localStorage","setItem","replace","setTimeout","removeItem","console","log","catch","err","alert","htmlFor","type","id","required","ref","onClick","prevState"],"sourceRoot":""}