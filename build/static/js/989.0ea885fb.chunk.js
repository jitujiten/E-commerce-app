"use strict";(self.webpackChunkreact_complete_guide=self.webpackChunkreact_complete_guide||[]).push([[989],{989:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var o=n(885),i=n(880),r=n(791),s=n(930),a="Login_auth__gbqIJ",c="Login_control__nR05J",l="Login_actions__YPn-D",u="Login_toggle__CnIY1",d=n(184),g=function(){var e=(0,r.useRef)(),t=(0,r.useRef)(),n=(0,i.k6)(),g=(0,r.useContext)(s.Z),m=(0,r.useState)(!0),h=(0,o.Z)(m,2),p=h[0],f=h[1],v=(0,r.useState)(!1),S=(0,o.Z)(v,2),_=S[0],j=S[1];return(0,d.jsxs)("section",{className:a,children:[(0,d.jsx)("h1",{children:p?"Login":"Sign Up"}),(0,d.jsxs)("form",{onSubmit:function(o){o.preventDefault();var i,r=e.current.value,s=t.current.value;j(!0),i=p?"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCtAB2ySpP41rMWn_UdbtdGgUXfepvS18I":"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCtAB2ySpP41rMWn_UdbtdGgUXfepvS18I",fetch(i,{method:"POST",body:JSON.stringify({email:r,password:s,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}}).then((function(n){return j(!1),n.ok?(e.current.value="",t.current.value="",n.json()):n.json().then((function(e){var t="Authentication Failed";throw e&&e.error&&e.error.message&&(t=e.error.message),new Error(t)}))})).then((function(e){g.Login(e.idToken),localStorage.setItem("tokenid",e.idToken),localStorage.setItem("emailid",e.email),n.replace("/"),setTimeout((function(){localStorage.removeItem("tokenid"),localStorage.removeItem("emailid"),console.log("logedout with timer")}),3e5)})).catch((function(e){alert(e.message)}))},children:[(0,d.jsxs)("div",{className:c,children:[(0,d.jsx)("label",{htmlFor:"email",children:"Your Email"}),(0,d.jsx)("input",{type:"email",id:"email",required:!0,ref:e})]}),(0,d.jsxs)("div",{className:c,children:[(0,d.jsx)("label",{htmlFor:"password",children:"Your Password"}),(0,d.jsx)("input",{type:"password",id:"password",required:!0,ref:t})]}),(0,d.jsxs)("div",{className:l,children:[!_&&(0,d.jsx)("button",{children:p?"Login":"Create Account"}),_&&(0,d.jsx)("p",{children:"Sending Request...."}),(0,d.jsx)("button",{type:"button",className:u,onClick:function(){f((function(e){return!e}))},children:p?"Create new account":"Login with existing account"})]})]})]})}}}]);
//# sourceMappingURL=989.0ea885fb.chunk.js.map